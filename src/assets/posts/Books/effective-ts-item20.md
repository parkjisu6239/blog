# Item 20. 다른 타입에는 다른 변수 사용하기

- 변수를 재사용하는 것은 좋지 않다. js, ts를 막론하고 하나의 변수에 여러 타입을 지정하는 것은 가독성면에서 나쁘다.


## 하나의 변수에 여러 타입
```ts
let id = "12-34-56"
fetchProduct(id) // string으로 사용
id = 123456
fetchProductbySerialNumber(id) // number로 사용
```
자바스크립트에서는 위처럼 letd으로 선언한 변수를 재할당하는 것이 가능하다. 하지만 타입스크립트에서는 오류가 발생한다.

> 타입스크립트에서는 변수의 값을 바뀔 수 있지만 그 타입은 보통 바뀌지 않는다.

### 범위 좁히기
위 경우 타입스크립트에서 타입을 바꿀 수 있는 한가지 방법은 범위를 좁히는 것이다. 새로운 변수를 포함하도록 확장하는 것이 아니라, 타입을 더 작게 제한하는 것이다.

```ts
function fetchProduct(id: string) {}
function fetchProductBySerialNumber(id: number) {}

let id: string|number = "12-34-56"; // 유니온 타입 사용
fetchProduct(id); // string으로 좁혀짐

id = 123456;  // OK
fetchProductBySerialNumber(id);  // number로 좁혀짐
```

하지만 이 방법은 좋지 않다. id를 사용할 떄마다 어떤 값인지 확인해야 한다. 그리고 굳이 같은 변수를 사용하여 복잡도를 더할 필요가 없다.

## 다른 타입에는 다른 변수를 사용

```ts
const id = "12-34-56"; // 타입추론으로 "12-34-56" 리터럴 타입
fetchProduct(id);

const serial = 123456;  // 타입추론으로 number
fetchProductBySerialNumber(serial);  // OK
```

서로 다른 타입에 다른 변수를 사용하는 것이 훨씬 좋다. 
- 서로 관련 없는 두개의 값을 분리할수 있다. (id, serial)
- 변수명을 더 구체적으로 지을 수 있다.
- 타입 추론을 향상 시키며, 타입 구문이 불필요해진다.
- 타입이 간결해진다.
- let 대신 const로 선언하게 된다. const를 사용하면 타입 추론하기가 더 좋다.

## 가려지는 변수
서로 다른 block scope에서는 변수의 이름이 같아도 상관없다. 위에서 이야기한 것들은 같은 scope에서 변수를 사용할 때에 한정이며, 다른 스콥에서는 아무런 문제가 되지 않는다. 물론 그럼에도 동일한 변수명을 사용하는 것보다는 서로 다르게 하는 것이 훨씬 좋다.

## 요약
- 변수의 값은 바뀔 수 있지만, 타입을 일반적으로 바뀌지 않는다.
- 혼란을 막기 위해 타입이 다른 값을 다룰 때에는 변수를 재사용하지 않도록 한다.